{
  "ast": null,
  "code": "import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Applications/MAMP/htdocs/Dobbie/pages/index.js\";\nimport React from 'react';\nimport styled from '@emotion/styled';\nconst Clock = styled.main`\n  margin: 100px auto 0 auto;\n  max-width: 700px;\n  text-align: center;\n`;\nconst NormalButton = styled.button`\n  cursor: pointer;\n`;\nconst BreakLabel = styled.label``;\nconst SessionLabel = styled.label``;\nconst TimerLabel = styled.label``;\nconst ClockLengths = styled.form`\n  border-bottom: 1px solid #ccc;\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 20px;\n  padding-top: 20px;\n  padding-bottom: 20px;\n`;\nconst BreakLength = styled.div``;\nconst SessionLength = styled.div``;\nconst BreakDecrement = styled(NormalButton)``;\nconst SessionDecrement = styled(NormalButton)``;\nconst BreakIncrement = styled(NormalButton)``;\nconst SessionIncrement = styled(NormalButton)``;\nconst ClockTimer = styled.div`\n  p {\n    font-size: 32px;\n    letter-spacing: 0.1em;\n  }\n`;\nconst StartStop = styled.div`\n  border-top: 1px solid #ccc;\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n  padding-top: 20px;\n`;\nconst ButtonStart = styled.button``;\nconst ButtonReset = styled.button``;\nexport default function HomePage() {\n  const sessionHourStarting = 25;\n  const breakHoursStarting = 5;\n  const sessionSecsStarting = '00';\n  const breakSecsStarting = '00';\n  const [inProgress, setInProgress] = React.useState(true);\n  const [timerStatus, setTimerStatus] = React.useState(false);\n  const [breakLength, setBreakLength] = React.useState(breakHoursStarting);\n  const [seshLength, setSeshLength] = React.useState(sessionHourStarting);\n  const [timeLeft, setTimeLeft] = React.useState(`${seshLength <= 9 ? '0' : ''}${seshLength}:${sessionSecsStarting}`);\n  const [breakTimeLeft, setBreakTimeLeft] = React.useState(`${breakLength <= 9 ? '0' : ''}${breakLength}:${breakSecsStarting}`);\n  const audioToPlay = React.useRef(null);\n  let countdown;\n  React.useEffect(() => {\n    inProgress ? timer(getTimeInSeconds(timeLeft)) : timer(getTimeInSeconds(breakTimeLeft));\n    return () => {\n      clearInterval(countdown);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [timerStatus, timeLeft, inProgress, breakLength]);\n\n  function getTimeInSeconds(timeRemaining) {\n    const currentTime = timeRemaining;\n    const loc = currentTime.indexOf(':');\n\n    if (loc) {\n      const mins = parseInt(currentTime.substring(0, loc));\n      const seconds = currentTime.substring(loc + 1, currentTime.length);\n      return Math.round(mins * 60) + parseInt(seconds);\n    }\n  }\n\n  function timer(seconds) {\n    const now = Date.now();\n    let secondsLeft;\n    let then = now + seconds * 1000;\n\n    if (timerStatus === true) {\n      displayTimeLeft(seconds);\n      countdown = setInterval(() => {\n        secondsLeft = Math.round((then - Date.now()) / 1000);\n\n        if (secondsLeft === 0) {\n          audioToPlay.current.pause();\n          audioToPlay.current.currentTime = 1;\n          audioToPlay.current.play();\n        }\n\n        if (secondsLeft < 0) {\n          clearInterval(countdown);\n\n          if (inProgress) {\n            // Time for a break\n            setBreakTimeLeft(`${breakLength <= 9 ? '0' : ''}${breakLength}:${breakSecsStarting}`);\n            setInProgress(false);\n          } else {\n            setTimeLeft(`${seshLength <= 9 ? '0' : ''}${seshLength}:${sessionSecsStarting}`);\n            setInProgress(true);\n          }\n\n          return;\n        }\n\n        displayTimeLeft(secondsLeft);\n      }, 1000);\n    }\n  }\n\n  function displayTimeLeft(seconds) {\n    const minutes = Math.floor(seconds / 60);\n    let setTime;\n    let remainderSeconds = seconds % 60;\n    setTime = `${minutes < 10 ? '0' : ''}${minutes}:${remainderSeconds < 10 ? '0' : ''}${remainderSeconds}`;\n    inProgress ? setTimeLeft(setTime) : setBreakTimeLeft(setTime);\n  }\n\n  const handleBreakDecrement = e => {\n    e.preventDefault();\n    handleBreakChange(0);\n  };\n\n  const handleBreakIncrement = e => {\n    e.preventDefault();\n    handleBreakChange(1);\n  };\n\n  const handleSessionDecrement = e => {\n    e.preventDefault();\n    handleTimeChange(0);\n  };\n\n  const handleSessionIncrement = e => {\n    e.preventDefault();\n    handleTimeChange(1);\n  };\n\n  function handleTimeChange(change) {\n    let currentTime = timeLeft;\n    let currLength = seshLength;\n    let currentHour = parseInt(currentTime.substring(0, 2));\n    let currentSeconds = parseInt(currentTime.substring(3, currentTime.length));\n    let newTime = currentTime;\n\n    if (change === 1 && currLength < 60) {\n      currLength = currLength < 60 ? currLength += 1 : currLength;\n      newTime = currentHour + 1 <= 9 ? `0${currentHour += 1}:${currentSeconds <= 9 ? '0' : ''}${currentSeconds}` : `${currentHour += 1}:${currentSeconds <= 9 ? '0' : ''}${currentSeconds}`;\n    } else if (change === 0 && currLength > 1) {\n      currLength = currLength > 1 ? currLength -= 1 : currLength; // make sure we don't get into minus hour\n\n      if (currentHour - 1 > -1) {\n        newTime = currentHour - 1 <= 9 ? `0${currentHour -= 1}:${currentSeconds <= 9 ? '0' : ''}${currentSeconds}` : `${currentHour -= 1}:${currentSeconds <= 9 ? '0' : ''}${currentSeconds}`;\n      }\n    }\n\n    setSeshLength(currLength);\n    setTimeLeft(newTime);\n  }\n\n  function handleBreakChange(change) {\n    let currentTime = breakTimeLeft;\n    let currLength = breakLength;\n    let currentHour = parseInt(currentTime.substring(0, 2));\n    let currentSeconds = parseInt(currentTime.substring(3, currentTime.length));\n    let newTime = currentTime;\n\n    if (change === 1 && currLength < 60) {\n      currLength = currLength < 60 ? currLength += 1 : currLength;\n      newTime = currentHour + 1 <= 9 ? `0${currentHour += 1}:${currentSeconds <= 9 ? '0' : ''}${currentSeconds}` : `${currentHour += 1}:${currentSeconds <= 9 ? '0' : ''}${currentSeconds}`;\n    } else if (change === 0 && currLength > 1) {\n      currLength = currLength > 1 ? currLength -= 1 : currLength; // make sure we don't get into minus hour\n\n      if (currentHour - 1 > -1) {\n        newTime = currentHour - 1 <= 9 ? `0${currentHour -= 1}:${currentSeconds <= 9 ? '0' : ''}${currentSeconds}` : `${currentHour -= 1}:${currentSeconds <= 9 ? '0' : ''}${currentSeconds}`;\n      }\n    }\n\n    setBreakLength(currLength);\n    setBreakTimeLeft(newTime);\n  }\n\n  const handleResetTimer = e => {\n    setBreakLength(5);\n    setSeshLength(25);\n    setBreakTimeLeft(`${breakLength <= 9 ? '0' : ''}${breakLength}:${breakSecsStarting}`);\n    setTimeLeft(`25:00`);\n    setInProgress(true);\n    if (timerStatus) setTimerStatus(false);\n    audioToPlay.current.pause();\n    audioToPlay.current.currentTime = 0;\n  };\n\n  const handleStartClock = e => {\n    e.preventDefault();\n    setTimerStatus(!timerStatus);\n  };\n\n  const AudioElement = /*#__PURE__*/React.forwardRef((props, ref) => {\n    return (\n      /*#__PURE__*/\n      // eslint-disable-next-line jsx-a11y/media-has-caption\n      _jsxDEV(\"audio\", {\n        ref: ref,\n        id: \"beep\",\n        children: /*#__PURE__*/_jsxDEV(\"source\", {\n          src: \"https://res.cloudinary.com/danielvanc/video/upload/v1592073663/alarm.mp3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 7\n      }, this)\n    );\n  });\n  return /*#__PURE__*/_jsxDEV(Clock, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Pomodoro Clock\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ClockLengths, {\n      children: [/*#__PURE__*/_jsxDEV(BreakLength, {\n        children: [/*#__PURE__*/_jsxDEV(BreakLabel, {\n          id: \"break-label\",\n          children: \"Break Length\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"break-length\",\n          children: breakLength\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BreakDecrement, {\n          id: \"break-decrement\",\n          onClick: handleBreakDecrement,\n          children: \"Break Decrement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BreakIncrement, {\n          id: \"break-increment\",\n          onClick: handleBreakIncrement,\n          children: \"Increment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SessionLength, {\n        children: [/*#__PURE__*/_jsxDEV(SessionLabel, {\n          id: \"session-label\",\n          children: \"Session Length\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"session-length\",\n          children: seshLength\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SessionDecrement, {\n          id: \"session-decrement\",\n          onClick: handleSessionDecrement,\n          children: \"Session Decrement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SessionIncrement, {\n          id: \"session-increment\",\n          onClick: handleSessionIncrement,\n          children: \"Session Increment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ClockTimer, {\n      children: [/*#__PURE__*/_jsxDEV(TimerLabel, {\n        id: \"timer-label\",\n        children: inProgress ? 'Session' : 'Break has begun'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"time-left\",\n        children: inProgress ? timeLeft : breakTimeLeft\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StartStop, {\n      children: [/*#__PURE__*/_jsxDEV(ButtonStart, {\n        id: \"start_stop\",\n        onClick: handleStartClock,\n        children: timerStatus ? 'Stop' : 'Start'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonReset, {\n        id: \"reset\",\n        onClick: handleResetTimer,\n        children: \"Reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AudioElement, {\n      ref: audioToPlay\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 298,\n    columnNumber: 5\n  }, this);\n}",
  "map": {
    "version": 3,
    "sources": [
      "/Applications/MAMP/htdocs/Dobbie/pages/index.js"
    ],
    "names": [
      "React",
      "styled",
      "Clock",
      "main",
      "NormalButton",
      "button",
      "BreakLabel",
      "label",
      "SessionLabel",
      "TimerLabel",
      "ClockLengths",
      "form",
      "BreakLength",
      "div",
      "SessionLength",
      "BreakDecrement",
      "SessionDecrement",
      "BreakIncrement",
      "SessionIncrement",
      "ClockTimer",
      "StartStop",
      "ButtonStart",
      "ButtonReset",
      "HomePage",
      "sessionHourStarting",
      "breakHoursStarting",
      "sessionSecsStarting",
      "breakSecsStarting",
      "inProgress",
      "setInProgress",
      "useState",
      "timerStatus",
      "setTimerStatus",
      "breakLength",
      "setBreakLength",
      "seshLength",
      "setSeshLength",
      "timeLeft",
      "setTimeLeft",
      "breakTimeLeft",
      "setBreakTimeLeft",
      "audioToPlay",
      "useRef",
      "countdown",
      "useEffect",
      "timer",
      "getTimeInSeconds",
      "clearInterval",
      "timeRemaining",
      "currentTime",
      "loc",
      "indexOf",
      "mins",
      "parseInt",
      "substring",
      "seconds",
      "length",
      "Math",
      "round",
      "now",
      "Date",
      "secondsLeft",
      "then",
      "displayTimeLeft",
      "setInterval",
      "current",
      "pause",
      "play",
      "minutes",
      "floor",
      "setTime",
      "remainderSeconds",
      "handleBreakDecrement",
      "e",
      "preventDefault",
      "handleBreakChange",
      "handleBreakIncrement",
      "handleSessionDecrement",
      "handleTimeChange",
      "handleSessionIncrement",
      "change",
      "currLength",
      "currentHour",
      "currentSeconds",
      "newTime",
      "handleResetTimer",
      "handleStartClock",
      "AudioElement",
      "forwardRef",
      "props",
      "ref"
    ],
    "mappings": "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",
    "sourcesContent": [
      "import React from 'react'\nimport styled  from '@emotion/styled'\n\nconst Clock = styled.main`\n  margin: 100px auto 0 auto;\n  max-width: 700px;\n  text-align: center;\n`;\n\nconst NormalButton = styled.button`\n  cursor: pointer;\n`;\n\nconst BreakLabel = styled.label``;\nconst SessionLabel = styled.label``;\nconst TimerLabel = styled.label``;\n\nconst ClockLengths = styled.form`\n  border-bottom: 1px solid #ccc;\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 20px;\n  padding-top: 20px;\n  padding-bottom: 20px;\n`;\nconst BreakLength = styled.div``;\nconst SessionLength = styled.div``;\n\nconst BreakDecrement = styled(NormalButton)``;\nconst SessionDecrement = styled(NormalButton)``;\nconst BreakIncrement = styled(NormalButton)``;\nconst SessionIncrement = styled(NormalButton)``;\n\nconst ClockTimer = styled.div`\n  p {\n    font-size: 32px;\n    letter-spacing: 0.1em;\n  }\n`;\n\nconst StartStop = styled.div`\n  border-top: 1px solid #ccc;\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n  padding-top: 20px;\n`;\nconst ButtonStart = styled.button``;\nconst ButtonReset = styled.button``;\n\n\nexport default function HomePage() {\n\n  const sessionHourStarting = 25;\n  const breakHoursStarting = 5;\n  const sessionSecsStarting = '00';\n  const breakSecsStarting = '00';\n  const [inProgress, setInProgress] = React.useState(true);\n  const [timerStatus, setTimerStatus] = React.useState(\n    false\n  );\n  const [breakLength, setBreakLength] = React.useState(\n    breakHoursStarting\n  );\n  const [seshLength, setSeshLength] = React.useState(\n    sessionHourStarting\n  );\n  const [timeLeft, setTimeLeft] = React.useState(\n    `${\n      seshLength <= 9 ? '0' : ''\n    }${seshLength}:${sessionSecsStarting}`\n  );\n  const [breakTimeLeft, setBreakTimeLeft] = React.useState(\n    `${\n      breakLength <= 9 ? '0' : ''\n    }${breakLength}:${breakSecsStarting}`\n  );\n\n  const audioToPlay = React.useRef(null);\n\n  let countdown;\n\n  React.useEffect(() => {\n    inProgress\n      ? timer(getTimeInSeconds(timeLeft))\n      : timer(getTimeInSeconds(breakTimeLeft));\n\n    return () => {\n      clearInterval(countdown);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [timerStatus, timeLeft, inProgress, breakLength]);\n\n  function getTimeInSeconds(timeRemaining) {\n    const currentTime = timeRemaining;\n\n    const loc = currentTime.indexOf(':');\n    if (loc) {\n      const mins = parseInt(currentTime.substring(0, loc));\n      const seconds = currentTime.substring(\n        loc + 1,\n        currentTime.length\n      );\n\n      return Math.round(mins * 60) + parseInt(seconds);\n    }\n  }\n\n  function timer(seconds) {\n    const now = Date.now();\n    let secondsLeft;\n    let then = now + seconds * 1000;\n\n    if (timerStatus === true) {\n      displayTimeLeft(seconds);\n      countdown = setInterval(() => {\n        secondsLeft = Math.round(\n          (then - Date.now()) / 1000\n        );\n        if (secondsLeft === 0) {\n          audioToPlay.current.pause();\n          audioToPlay.current.currentTime = 1;\n          audioToPlay.current.play();\n        }\n        if (secondsLeft < 0) {\n          clearInterval(countdown);\n          if (inProgress) {\n            // Time for a break\n            setBreakTimeLeft(\n              `${\n                breakLength <= 9 ? '0' : ''\n              }${breakLength}:${breakSecsStarting}`\n            );\n            setInProgress(false);\n          } else {\n            setTimeLeft(\n              `${\n                seshLength <= 9 ? '0' : ''\n              }${seshLength}:${sessionSecsStarting}`\n            );\n            setInProgress(true);\n          }\n          return;\n        }\n\n        displayTimeLeft(secondsLeft);\n      }, 1000);\n    }\n  }\n\n  function displayTimeLeft(seconds) {\n    const minutes = Math.floor(seconds / 60);\n    let setTime;\n    let remainderSeconds = seconds % 60;\n\n    setTime = `${minutes < 10 ? '0' : ''}${minutes}:${\n      remainderSeconds < 10 ? '0' : ''\n    }${remainderSeconds}`;\n\n    inProgress\n      ? setTimeLeft(setTime)\n      : setBreakTimeLeft(setTime);\n  }\n\n  const handleBreakDecrement = e => {\n    e.preventDefault();\n    handleBreakChange(0);\n  };\n  const handleBreakIncrement = e => {\n    e.preventDefault();\n    handleBreakChange(1);\n  };\n\n  const handleSessionDecrement = e => {\n    e.preventDefault();\n    handleTimeChange(0);\n  };\n  const handleSessionIncrement = e => {\n    e.preventDefault();\n    handleTimeChange(1);\n  };\n\n  function handleTimeChange(change) {\n    let currentTime = timeLeft;\n    let currLength = seshLength;\n\n    let currentHour = parseInt(currentTime.substring(0, 2));\n    let currentSeconds = parseInt(\n      currentTime.substring(3, currentTime.length)\n    );\n    let newTime = currentTime;\n\n    if (change === 1 && currLength < 60) {\n      currLength =\n        currLength < 60 ? (currLength += 1) : currLength;\n\n      newTime =\n        currentHour + 1 <= 9\n          ? `0${(currentHour += 1)}:${\n              currentSeconds <= 9 ? '0' : ''\n            }${currentSeconds}`\n          : `${(currentHour += 1)}:${\n              currentSeconds <= 9 ? '0' : ''\n            }${currentSeconds}`;\n    } else if (change === 0 && currLength > 1) {\n      currLength =\n        currLength > 1 ? (currLength -= 1) : currLength;\n\n      // make sure we don't get into minus hour\n      if (currentHour - 1 > -1) {\n        newTime =\n          currentHour - 1 <= 9\n            ? `0${(currentHour -= 1)}:${\n                currentSeconds <= 9 ? '0' : ''\n              }${currentSeconds}`\n            : `${(currentHour -= 1)}:${\n                currentSeconds <= 9 ? '0' : ''\n              }${currentSeconds}`;\n      }\n    }\n\n    setSeshLength(currLength);\n    setTimeLeft(newTime);\n  }\n\n  function handleBreakChange(change) {\n    let currentTime = breakTimeLeft;\n    let currLength = breakLength;\n    let currentHour = parseInt(currentTime.substring(0, 2));\n    let currentSeconds = parseInt(\n      currentTime.substring(3, currentTime.length)\n    );\n    let newTime = currentTime;\n\n    if (change === 1 && currLength < 60) {\n      currLength =\n        currLength < 60 ? (currLength += 1) : currLength;\n\n      newTime =\n        currentHour + 1 <= 9\n          ? `0${(currentHour += 1)}:${\n              currentSeconds <= 9 ? '0' : ''\n            }${currentSeconds}`\n          : `${(currentHour += 1)}:${\n              currentSeconds <= 9 ? '0' : ''\n            }${currentSeconds}`;\n    } else if (change === 0 && currLength > 1) {\n      currLength =\n        currLength > 1 ? (currLength -= 1) : currLength;\n\n      // make sure we don't get into minus hour\n      if (currentHour - 1 > -1) {\n        newTime =\n          currentHour - 1 <= 9\n            ? `0${(currentHour -= 1)}:${\n                currentSeconds <= 9 ? '0' : ''\n              }${currentSeconds}`\n            : `${(currentHour -= 1)}:${\n                currentSeconds <= 9 ? '0' : ''\n              }${currentSeconds}`;\n      }\n    }\n\n    setBreakLength(currLength);\n    setBreakTimeLeft(newTime);\n  }\n\n  const handleResetTimer = e => {\n    setBreakLength(5);\n    setSeshLength(25);\n    setBreakTimeLeft(\n      `${\n        breakLength <= 9 ? '0' : ''\n      }${breakLength}:${breakSecsStarting}`\n    );\n    setTimeLeft(`25:00`);\n    setInProgress(true);\n    if (timerStatus) setTimerStatus(false);\n    audioToPlay.current.pause();\n    audioToPlay.current.currentTime = 0;\n  };\n\n  const handleStartClock = e => {\n    e.preventDefault();\n    setTimerStatus(!timerStatus);\n  };\n\n  const AudioElement = React.forwardRef((props, ref) => {\n    return (\n      // eslint-disable-next-line jsx-a11y/media-has-caption\n      <audio ref={ref} id=\"beep\">\n        <source src=\"https://res.cloudinary.com/danielvanc/video/upload/v1592073663/alarm.mp3\" />\n      </audio>\n    );\n  });\n\n  return (\n    <Clock>\n      <h1>Pomodoro Clock</h1>\n\n      <ClockLengths>\n        <BreakLength>\n          <BreakLabel id=\"break-label\">\n            Break Length\n          </BreakLabel>\n          <p id=\"break-length\">{breakLength}</p>\n          <BreakDecrement\n            id=\"break-decrement\"\n            onClick={handleBreakDecrement}\n          >\n            Break Decrement\n          </BreakDecrement>\n          <BreakIncrement\n            id=\"break-increment\"\n            onClick={handleBreakIncrement}\n          >\n            Increment\n          </BreakIncrement>\n        </BreakLength>\n\n        <SessionLength>\n          <SessionLabel id=\"session-label\">\n            Session Length\n          </SessionLabel>\n          <p id=\"session-length\">{seshLength}</p>\n          <SessionDecrement\n            id=\"session-decrement\"\n            onClick={handleSessionDecrement}\n          >\n            Session Decrement\n          </SessionDecrement>\n          <SessionIncrement\n            id=\"session-increment\"\n            onClick={handleSessionIncrement}\n          >\n            Session Increment\n          </SessionIncrement>\n        </SessionLength>\n      </ClockLengths>\n\n      <ClockTimer>\n        <TimerLabel id=\"timer-label\">\n          {inProgress ? 'Session' : 'Break has begun'}\n        </TimerLabel>\n        <p id=\"time-left\">\n          {inProgress ? timeLeft : breakTimeLeft}\n        </p>\n      </ClockTimer>\n\n      <StartStop>\n        <ButtonStart\n          id=\"start_stop\"\n          onClick={handleStartClock}\n        >\n          {timerStatus ? 'Stop' : 'Start'}\n        </ButtonStart>\n        <ButtonReset id=\"reset\" onClick={handleResetTimer}>\n          Reset\n        </ButtonReset>\n      </StartStop>\n      <AudioElement ref={audioToPlay} />\n    </Clock>\n  )\n}"
    ]
  },
  "metadata": {},
  "sourceType": "module"
}
